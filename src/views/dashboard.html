<!DOCTYPE html>
<html lang="id">
<head>
    </head>
<body>
    <div id="navbar-placeholder"></div>

    <div class="container">
        <div class="welcome-card">
            <h2 id="welcome-message">Selamat Datang!</h2>
            <p>Anda telah berhasil masuk ke sistem backend RSpace. Pilih salah satu menu di bawah untuk melanjutkan.</p>
        </div>
        <div class="card-grid">
             <a href="/profile"><div class="card"><h3>Profil Saya</h3><p>Lihat detail akun Anda.</p></div></a>
             <a href="/archive"><div class="card"><h3>Jelajahi Arsip</h3><p>Lihat riwayat diskusi yang telah selesai dan diarsipkan.</p></div></a>
             <a href="/backups"><div class="card"><h3>File Backup</h3><p>Lihat dan unduh file backup RSpace & PerpusKu.</p></div></a>
             <a href="/users" id="users-card-link" style="display: none;"><div class="card"><h3>Kelola Pengguna</h3><p>Tambah, edit, atau hapus pengguna sistem (khusus Admin).</p></div></a>
        </div>
    </div>

    <script src="/js/main.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('rspace_token');
            if (!token) return;

            const welcomeMessage = document.getElementById('welcome-message');

            fetch('/api/profile', {
                headers: { 'Authorization': 'Bearer ' + token }
            })
            .then(res => res.json())
            .then(data => {
                if (data.email) {
                    welcomeMessage.innerText = 'Selamat Datang, ' + data.email + '!';
                }
            });
        });
    </script>
</body>
</html>